{"mappings":"YAAA,IAAMA,EAAO,CACXC,KAAMC,SAASC,cAAe,SAC9BC,OAAQF,SAASC,cAAe,UAChCE,WAAYH,SAASC,cAAe,gBACpCG,UAAWJ,SAASC,cAAe,cACnCI,YAAaL,SAASC,cAAe,kBAGnCK,EAAQR,EAAKK,WAAWI,MACxBC,EAAO,EACLC,EAASX,EAAKO,YAAYE,MA8BhC,SAASG,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAE3B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACNH,GACJF,EAAQ,CAACH,WAAUS,MAAAR,IAElBG,EAAO,CAACJ,WAAUS,MAAAR,MACjBA,MA7BPd,EAAKC,KAAKsB,iBAAkB,UAE5B,SAAsBC,GACpBd,EAAOV,EAAKM,UAAUG,MAEtB,IAAK,IAAIgB,EAAI,EAAGA,EAAId,EAAQc,GAAK,EAErB,IAANA,GACFb,EAAca,EAAGjB,GAInBI,EAAca,EADbjB,GAASE,GAEPgB,MAAK,SAAAC,G,IAAGd,EAAQc,EAARd,SAAUe,EAAKD,EAALL,M,OAAYO,QAAQC,IAAI,uBAAwCC,OAAflB,EAAS,QAAYkB,OAANH,EAAM,UACtFI,OAAI,SAAAL,G,IAAEd,EAAQc,EAARd,SAAUoB,EAAKN,EAALL,M,OAAWO,QAAQC,IAAI,sBAAqCC,OAAflB,EAAS,QAAYkB,OAANE,EAAM,a","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  form: document.querySelector(`.form`),\n  button: document.querySelector(`button`),\n  inputDelay: document.querySelector(`.input-delay`),\n  inputStep: document.querySelector(`input-step`),\n  inputAmount: document.querySelector(`.input-amount`),\n};\n\nlet delay = refs.inputDelay.value;  \nlet step = 0;\nconst amount = refs.inputAmount.value;\n\n\n// refs.button.addEventListener(`click`, onButtonClick);\n\n// function onButtonClick(e) {\n//   console.log(amount);\n//   console.log(delay);\n\n//   step = refs.inputStep.value;\n// }\n\nrefs.form.addEventListener(`submit`, onFormSubmit);\n\nfunction onFormSubmit(e) {\n  step = refs.inputStep.value;\n  \n  for (let i = 1; i < amount; i += 1) {\n\n    if (i === 1) {\n      createPromise(i, delay); \n    }\n\n     delay += step;\n    createPromise(i, delay)\n      .then(({ position, delay }) => console.log(`✅ Fulfilled promise ${position} in ${delay}ms`))\n      .catch(({position, delay}) => console.log(`❌ Rejected promise ${position} in ${delay}ms`));\n  }; \n};\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\n\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n     if (shouldResolve) {\n     resolve({position, delay})\n    }\n      reject({position, delay})\n    }, delay);\n  });\n};"],"names":["$ce04d3a99e08e73b$var$refs","form","document","querySelector","button","inputDelay","inputStep","inputAmount","$ce04d3a99e08e73b$var$delay","value","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$createPromise","position","delay3","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","delay","addEventListener","e","i","then","param","delay1","console","log","concat","catch","delay2"],"version":3,"file":"03-promises.2810a5fb.js.map"}