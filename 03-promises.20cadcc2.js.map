{"mappings":"AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,OAAQF,SAASC,cAAc,UAC/BE,WAAYH,SAASC,cAAc,gBACnCG,UAAWJ,SAASC,cAAc,cAClCI,YAAaL,SAASC,cAAc,kBAGtC,IAAIK,EAAQR,EAAKK,WAAWI,MACxBC,EAAO,EACX,MAAMC,EAASX,EAAKO,YAAYE,MA8BhC,SAASG,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAE3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACNH,GACJF,EAAQ,C,SAACH,EAAUS,MAAAR,IAElBG,EAAO,C,SAACJ,EAAUS,MAAAR,MACjBA,MA7BPd,EAAKC,KAAKsB,iBAAiB,UAE3B,SAAsBC,GACpBd,EAAOV,EAAKM,UAAUG,MAEtB,IAAK,IAAIgB,EAAI,EAAGA,EAAId,EAAQc,GAAK,EAErB,IAANA,GACFb,EAAca,EAAGjB,GAGlBA,GAASE,EACVE,EAAca,EAAGjB,GACdkB,MAAK,EAACb,SAAEA,EAAUS,MAAAK,KAAYC,QAAQC,IAAI,uBAAqBhB,QAAiBc,SAAYG,OAC1F,EAAKjB,WAASS,MAAOS,KAACH,QAAKC,IAAQ,sBAAKhB,QAA8BkB","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  form: document.querySelector(`.form`),\n  button: document.querySelector(`button`),\n  inputDelay: document.querySelector(`.input-delay`),\n  inputStep: document.querySelector(`input-step`),\n  inputAmount: document.querySelector(`.input-amount`),\n};\n\nlet delay = refs.inputDelay.value;  \nlet step = 0;\nconst amount = refs.inputAmount.value;\n\n\n// refs.button.addEventListener(`click`, onButtonClick);\n\n// function onButtonClick(e) {\n//   console.log(amount);\n//   console.log(delay);\n\n//   step = refs.inputStep.value;\n// }\n\nrefs.form.addEventListener(`submit`, onFormSubmit);\n\nfunction onFormSubmit(e) {\n  step = refs.inputStep.value;\n  \n  for (let i = 1; i < amount; i += 1) {\n\n    if (i === 1) {\n      createPromise(i, delay); \n    }\n\n     delay += step;\n    createPromise(i, delay)\n      .then(({ position, delay }) => console.log(`✅ Fulfilled promise ${position} in ${delay}ms`))\n      .catch(({position, delay}) => console.log(`❌ Rejected promise ${position} in ${delay}ms`));\n  }; \n};\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\n\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n     if (shouldResolve) {\n     resolve({position, delay})\n    }\n      reject({position, delay})\n    }, delay);\n  });\n};"],"names":["$47d4ff9957288465$var$refs","form","document","querySelector","button","inputDelay","inputStep","inputAmount","$47d4ff9957288465$var$delay","value","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$createPromise","position","delay3","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","delay","addEventListener","e","i","then","delay1","console","log","catch","delay2"],"version":3,"file":"03-promises.20cadcc2.js.map"}